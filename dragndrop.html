<!DOCTYPE html>
<html lang="ko">
<head>
    <meta  charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="format-detection" content="telephone=no,address=no,email=no">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0, shrink-to-fit=no">
    <title>Drag and Drop</title>
    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="css/style.css" />
    <script src="js/jquery-1.12.4.js"></script>
    <script src="js/jquery-ui.js"></script>
</head>
<body>
    <div id="wrap">
        <div class="dim"></div>
        <!--
            1. element div를 0.5초 탭하기 -> 해당 엘리먼트 z-index : 9999 (완료)

            2. 탭한 div를 아무동작없이 놓았을 때 
            -> myObject.draggable( 'disable' ) or myObject.draggable( 'enable' );
        -->
        <div class="dragDropWrap" id="dropZone">
            <div class="dropArea">
                <div class="element">
                    <div>
                        <div class="bank">txt</div>
                        <div class="bank">txt</div>
                        <button type="button"><span>이동</span></button>
                    </div>
                </div>
            </div>
            <div class="dropArea">
                <div class="element">
                    <div>
                        <div class="bank">txt</div>
                        <div class="bank">txt</div>
                        <button type="button"><span>이동</span></button>
                    </div>
                </div>
            </div>
            <div class="dropArea">
                <div class="element">
                    <div>
                        <div class="bank">txt</div>
                        <div class="bank">txt</div>
                        <button type="button"><span>이동</span></button>
                    </div>
                </div>
            </div>
            
        </div>

        <div class="modal">
            <div class="btn-group">
                <button type="button"><span>취소</span></button>
                <button type="button"><span>이체</span></button>
            </div>
        </div>
    </div> 

<script>
var t;
$(document).on('touchstart','.element', function (event) {
  var self = this;
  if ($(self).hasClass('draggable')) {
    return;
  }
  t = setTimeout(function () {
    $(self).draggable().draggable('enable').addClass('draggable');
    console.log('start drag');
    $(self).trigger(event)
  }, 500);
});

$(document).on("touchend", function () {
  clearTimeout(t);
  $('.draggable').removeClass('draggable').draggable( 'disable' )
});

</script>   
</body>
</html>